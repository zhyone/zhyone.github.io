<!DOCTYPE html><html class="theme-next mist use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3"><link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222"><meta name="keywords" content="Hexo,际富"><meta name="description" content="际富的hexo博客，记录学过的点滴知识。"><meta property="og:type" content="website"><meta property="og:title" content="际富的博客"><meta property="og:url" content="http://zhy.one/index.html"><meta property="og:site_name" content="际富的博客"><meta property="og:description" content="际富的hexo博客，记录学过的点滴知识。"><meta property="og:locale" content="zh-Hans"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="际富的博客"><meta name="twitter:description" content="际富的hexo博客，记录学过的点滴知识。"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",version:"5.1.3",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"AEKE14BLCW",apiKey:"bff5fd14f7e8a21ddce412fc0dbed0d7",indexName:"zhy_hexo",hits:"",labels:""}}</script><link rel="canonical" href="http://zhy.one/"><title>际富的博客</title></head><body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-home"><div class="headband"></div><header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">际富的博客</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhy.one/html/hexo-algolia-landscape.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhy"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="际富的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/html/hexo-algolia-landscape.html" itemprop="url">为hexo的landscape主题增加algolia搜索功能</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-26T14:50:07+08:00">2017-11-26</time></span></div></header><div class="post-body" itemprop="articleBody"><p>hexo的next主题本身已经集成了algolia功能，所以开启相当方便，但对于没有集成algolia功能的landscape主题，我们怎么做呢？<br>以下是我给hexo的landscape主题添加algolia的过程，其他主题的添加方法也一样。</p><h4 id="安装hexo-algolia"><a href="#安装hexo-algolia" class="headerlink" title="安装hexo-algolia"></a>安装hexo-algolia</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-algolia --save</span><br></pre></td></tr></table></figure><h4 id="创建algolia-api-key"><a href="#创建algolia-api-key" class="headerlink" title="创建algolia api key"></a>创建algolia api key</h4><p>登陆<www.algolia.com>，我这里已经有了一个indices名字叫zhy_one，新建一个indices，名字sdddsy用于新的网站搜索，然后新建一个api-key，这个api-key主要是用于搜索，所以只分配search权限<br><img src="http://ozaopi4bq.bkt.clouddn.com/20171126145831.png" alt="新建algolia api-key"><br><img src="http://ozaopi4bq.bkt.clouddn.com/20171126150304.png" alt="新建algolia api-key"><br>这里需要注意，因为本地执行<code>hexo algolia</code>时，为了安全，必须要求建一个更新和修改权限api-key，我之前已经建过，但只限于zhy_one,如果要同时用于其他网站，需要做些修改<br><img src="http://ozaopi4bq.bkt.clouddn.com/20171126150617.png" alt="修改algolia indices选项"><br>将<code>hexo-algolia indexing key</code>下的indices选项设置为空，就能让所有网站的共用一个indexing-key</www.algolia.com></p><h4 id="配置本地环境变量HEXO-ALGOLIA-INDEXING-KEY"><a href="#配置本地环境变量HEXO-ALGOLIA-INDEXING-KEY" class="headerlink" title="配置本地环境变量HEXO_ALGOLIA_INDEXING_KEY"></a>配置本地环境变量HEXO_ALGOLIA_INDEXING_KEY</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#查看本地是否已经配置了HEXO_ALGOLIA_INDEXING_KEY</span><br><span class="line">export | grep ALGOLIA</span><br></pre></td></tr></table></figure><p>如果出现以下类似信息，代表本地已经配置过了，可以进行下一步操作。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare -x HEXO_ALGOLIA_INDEXING_KEY=&quot;09xxxxxxxa71a040xxxxxxxxxxxcf5&quot;</span><br></pre></td></tr></table></figure><p></p><p>如果没有配置，可以执行<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export HEXO_ALGOLIA_INDEXING_KEY=09xxxxxxxa71a040xxxxxxxxxxxcf5</span><br></pre></td></tr></table></figure><p></p><p>但这是临时的，重启git bash就会失效，永久性配置，请参考<a href="http://zhy.one/html/hexo-algolia.html">http://zhy.one/html/hexo-algolia.html</a></p><h4 id="测试hexo-algolia"><a href="#测试hexo-algolia" class="headerlink" title="测试hexo algolia"></a>测试hexo algolia</h4><p>执行<code>hexo algolia</code>,如果出现以下信息，代表algolia已经索引成功<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">INFO  [Algolia] Testing HEXO_ALGOLIA_INDEXING_KEY permissions.</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  [Algolia] Identified 8 pages and posts to index.</span><br><span class="line">INFO  [Algolia] Indexing chunk 1 of 1 (50 items each)</span><br><span class="line">INFO  [Algolia] Indexing done.</span><br></pre></td></tr></table></figure><p></p><h4 id="配置站点-config-yml"><a href="#配置站点-config-yml" class="headerlink" title="配置站点_config.yml"></a>配置站点_config.yml</h4><p>在合适的位置增加以下内容<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">algolia:</span><br><span class="line">  applicationID: &apos;AEKE14BLCW&apos;</span><br><span class="line">  apiKey: &apos;23xxxxxxxxxd027b29dexxxxxxxxx5&apos;  #此为刚新建的Search-only for sdddsy api-key</span><br><span class="line">  indexName: &apos;sdddsy&apos;</span><br></pre></td></tr></table></figure><p></p><h4 id="修改head-ejs文件"><a href="#修改head-ejs文件" class="headerlink" title="修改head.ejs文件"></a>修改head.ejs文件</h4><p>在<code>&lt;/head&gt;</code>标签前面，加入以下内容<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; id=&quot;hexo.configuration&quot;&gt;</span><br><span class="line">  var CONFIG = &#123;</span><br><span class="line">    root: &apos;/&apos;,</span><br><span class="line">    algolia: &#123;</span><br><span class="line">          applicationID: &apos;AEKE14BLCW&apos;,</span><br><span class="line">          apiKey: &apos;23xxxxxxxxxd027b29dexxxxxxxxx5&apos;,</span><br><span class="line">          indexName: &apos;sdddsy&apos;,</span><br><span class="line">          hits: &#123;&quot;per_page&quot;:10&#125;,</span><br><span class="line">          labels: &#123;&quot;input_placeholder&quot;:&quot;搜索...&quot;,&quot;hits_empty&quot;:&quot;未发现与 「$&#123;query&#125;」相关的内容&quot;,&quot;hits_stats&quot;:&quot;$&#123;hits&#125; 条相关条目，使用了 $&#123;time&#125; 毫秒&quot;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p></p><h4 id="修改header-ejs文件"><a href="#修改header-ejs文件" class="headerlink" title="修改header.ejs文件"></a>修改header.ejs文件</h4><p>1)将以下内容<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;search-form-wrap&quot;&gt;</span><br><span class="line">    &lt;%- search_form(&#123;button: &apos;&amp;#xF002;&apos;&#125;) %&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p></p><p>改成：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;site-search&quot;&gt; </span><br><span class="line"> &lt;div class=&quot;algolia-popup popup search-popup&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;algolia-search&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;algolia-search-input-icon&quot;&gt;</span><br><span class="line">        &lt;i class=&quot;fa fa-search&quot;&gt;&lt;/i&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;algolia-search-input&quot; id=&quot;algolia-search-input&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;algolia-results&quot;&gt;</span><br><span class="line">      &lt;div id=&quot;algolia-stats&quot;&gt;&lt;/div&gt;</span><br><span class="line">      &lt;div id=&quot;algolia-hits&quot;&gt;&lt;/div&gt;</span><br><span class="line">      &lt;div id=&quot;algolia-pagination&quot; class=&quot;algolia-pagination&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;span class=&quot;popup-btn-close&quot;&gt;</span><br><span class="line">      &lt;i class=&quot;fa fa-times-circle&quot;&gt;&lt;/i&gt;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p></p><p>2)增加触发开关<code>popup-trigger</code></p><p>将header.ejs里以下内容<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a id=&quot;nav-search-btn&quot; class=&quot;nav-icon&quot; title=&quot;&lt;%= __(&apos;search&apos;) %&gt;&quot;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure><p></p><p>修改为<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a id=&quot;nav-search-btn&quot; href=&quot;javascript:;&quot; class=&quot;nav-icon popup-trigger&quot; title=&quot;&lt;%= __(&apos;search&apos;) %&gt;&quot;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure><p></p><h4 id="增加相关资源文件"><a href="#增加相关资源文件" class="headerlink" title="增加相关资源文件"></a>增加相关资源文件</h4><p>1)<code>next\source\js\src\algolia-search.js</code>拷贝到<code>landscape\source\js\</code>目录下</p><p>2)在<code>landscape\source\</code>下新建lib目录，将next主题<code>source\lib</code>下的以下目录包括里面的所有文件，拷贝过去<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">algolia-instant-search\</span><br><span class="line">font-awesome\</span><br><span class="line">jquery\</span><br></pre></td></tr></table></figure><p></p><p>3)可以把<code>landscape\source\fancybox</code>目录也移动到<code>landscape\source\lib\</code>下，统一放在lib里。<br>但需修改一下after-footer.ejs文件，将以下内容<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.fancybox)&#123; %&gt;</span><br><span class="line">  &lt;%- css(&apos;fancybox/jquery.fancybox&apos;) %&gt;</span><br><span class="line">  &lt;%- js(&apos;fancybox/jquery.fancybox.pack&apos;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p></p><p>改成：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.fancybox)&#123; %&gt;</span><br><span class="line">  &lt;%- css(&apos;lib/fancybox/jquery.fancybox&apos;) %&gt;</span><br><span class="line">  &lt;%- js(&apos;lib/fancybox/jquery.fancybox.pack&apos;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p></p><p>4)在<code>landscape\source\</code>下新建images目录，把<code>next\source\images\algolia_logo.svg</code>拷贝进去。</p><h4 id="修改layout-ejs"><a href="#修改layout-ejs" class="headerlink" title="修改layout.ejs"></a>修改layout.ejs</h4><p>在<code>&lt;/body&gt;</code>标签之前，加入以下内容<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- js(&apos;lib/jquery/index.js&apos;) %&gt;</span><br><span class="line">&lt;%- css(&apos;lib/algolia-instant-search/instantsearch.min.css&apos;) %&gt;</span><br><span class="line">&lt;%- js(&apos;lib/algolia-instant-search/instantsearch.min.js&apos;) %&gt;</span><br><span class="line">&lt;%- js(&apos;js/algolia-search.js&apos;) %&gt;</span><br></pre></td></tr></table></figure><p></p><p>landscape主题自身已经带了jquery，在after-footer.ejs文件里。</p><p>为了便于管理，重要的是让大家知道使用algolia必须要有jquery的支持，所以，我们把after-footer.ejs文件里以下内容删除<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p></p><h4 id="新建algolia-search-styl"><a href="#新建algolia-search-styl" class="headerlink" title="新建algolia-search.styl"></a>新建algolia-search.styl</h4><p>在<code>landscape\source\css\_partial\</code>目录下新建algolia-search.styl，内容如下<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line">ul.search-result-list &#123;</span><br><span class="line">  padding-left: 0px;</span><br><span class="line">  margin: 0px 5px 0px 8px;</span><br><span class="line">&#125;</span><br><span class="line">p.search-result &#123;</span><br><span class="line">  border-bottom: 1px dashed #ccc;</span><br><span class="line">  padding: 5px 0;</span><br><span class="line">&#125;</span><br><span class="line">a.search-result-title &#123;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">&#125;</span><br><span class="line">a.search-result &#123;</span><br><span class="line">  border-bottom: transparent;</span><br><span class="line">  display: block;</span><br><span class="line">  white-space: nowrap;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  text-overflow: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line">.search-keyword &#123;</span><br><span class="line">  border-bottom: 1px dashed #4088b8;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">&#125;</span><br><span class="line">#local-search-result &#123;</span><br><span class="line">  height: 90%;</span><br><span class="line">  overflow: auto;</span><br><span class="line">&#125;</span><br><span class="line">.popup &#123;</span><br><span class="line">  display: none;</span><br><span class="line">  position: fixed;</span><br><span class="line">  top: 10%;</span><br><span class="line">  left: 50%;</span><br><span class="line">  width: 700px;</span><br><span class="line">  height: 80%;</span><br><span class="line">  margin-left: -350px;</span><br><span class="line">  padding: 3px 0 0 10px;</span><br><span class="line">  background: #fff;</span><br><span class="line">  color: #333;</span><br><span class="line">  z-index: 9999;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">@media (max-width: 767px) &#123;</span><br><span class="line">  .popup &#123;</span><br><span class="line">    padding: 3px;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    margin: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    border-radius: 0px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.popoverlay &#123;</span><br><span class="line">  position: fixed;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  top: 0px;</span><br><span class="line">  left: 0px;</span><br><span class="line">  z-index: 2080;</span><br><span class="line">  background-color: rgba(0,0,0,0.3);</span><br><span class="line">&#125;</span><br><span class="line">#local-search-input &#123;</span><br><span class="line">  margin-bottom: 10px;</span><br><span class="line">  width: 50%;</span><br><span class="line">&#125;</span><br><span class="line">.popup-btn-close &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 6px;</span><br><span class="line">  right: 14px;</span><br><span class="line">  color: #4ebd79;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">  text-transform: uppercase;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">#no-result &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  left: 44%;</span><br><span class="line">  top: 42%;</span><br><span class="line">  color: #ccc;</span><br><span class="line">&#125;</span><br><span class="line">.busuanzi-count:before &#123;</span><br><span class="line">  content: &quot; &quot;;</span><br><span class="line">  float: left;</span><br><span class="line">  width: 260px;</span><br><span class="line">  min-height: 25px;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width: 768px) and (max-width: 991px) &#123;</span><br><span class="line">  .busuanzi-count &#123;</span><br><span class="line">    width: auto;</span><br><span class="line">  &#125;</span><br><span class="line">  .busuanzi-count:before &#123;</span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@media (max-width: 767px) &#123;</span><br><span class="line">  .busuanzi-count &#123;</span><br><span class="line">    width: auto;</span><br><span class="line">  &#125;</span><br><span class="line">  .busuanzi-count:before &#123;</span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.site-uv,</span><br><span class="line">.site-pv,</span><br><span class="line">.page-pv &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line">.site-uv .busuanzi-value,</span><br><span class="line">.site-pv .busuanzi-value,</span><br><span class="line">.page-pv .busuanzi-value &#123;</span><br><span class="line">  margin: 0 5px;</span><br><span class="line">&#125;</span><br><span class="line">.site-uv &#123;</span><br><span class="line">  margin-right: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.site-uv::after &#123;</span><br><span class="line">  content: &quot;|&quot;;</span><br><span class="line">  padding-left: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-popup &#123;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-popup .popup-btn-close &#123;</span><br><span class="line">  padding-left: 15px;</span><br><span class="line">  border-left: 1px solid #eee;</span><br><span class="line">  top: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-popup .popup-btn-close .fa &#123;</span><br><span class="line">  color: #999;</span><br><span class="line">  font-size: 18px;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-popup .popup-btn-close:hover .fa &#123;</span><br><span class="line">  color: #222;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-search &#123;</span><br><span class="line">  padding: 10px 15px 5px;</span><br><span class="line">  max-height: 50px;</span><br><span class="line">  border-bottom: 1px solid #ccc;</span><br><span class="line">  background: #f5f5f5;</span><br><span class="line">  border-top-left-radius: 5px;</span><br><span class="line">  border-top-right-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-search-input-icon &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  width: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-search-input-icon .fa &#123;</span><br><span class="line">  font-size: 18px;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-search-input &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  width: calc(90% - 20px);</span><br><span class="line">&#125;</span><br><span class="line">.algolia-search-input input &#123;</span><br><span class="line">  padding: 5px 0;</span><br><span class="line">  width: 100%;</span><br><span class="line">  outline: none;</span><br><span class="line">  border: none;</span><br><span class="line">  background: transparent;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-powered &#123;</span><br><span class="line">  float: right;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-powered img &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  height: 18px;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-results &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  overflow: auto;</span><br><span class="line">  padding: 10px 30px;</span><br><span class="line">  height: calc(100% - 50px);</span><br><span class="line">&#125;</span><br><span class="line">.algolia-results hr &#123;</span><br><span class="line">  margin: 10px 0;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-results .highlight &#123;</span><br><span class="line">  font-style: normal;</span><br><span class="line">  margin: 0;</span><br><span class="line">  padding: 0 2px;</span><br><span class="line">  font-size: inherit;</span><br><span class="line">  color: #f00;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-hits &#123;</span><br><span class="line">  margin-top: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-hit-item &#123;</span><br><span class="line">  margin: 15px 0;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-hit-item-link &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  border-bottom: 1px dashed #ccc;</span><br><span class="line">  transition-duration: 0.2s;</span><br><span class="line">  transition-timing-function: ease-in-out;</span><br><span class="line">  transition-delay: 0s;</span><br><span class="line">  text-decoration:none;</span><br><span class="line">  color: #222;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.algolia-hit-item-link:hover &#123;</span><br><span class="line">  border-bottom: 1px dashed #000;</span><br><span class="line">  color: #EEB422;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-pagination .pagination &#123;</span><br><span class="line">  margin-top: 40px;</span><br><span class="line">  border-top: none;</span><br><span class="line">  padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-pagination .pagination-item &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-pagination .page-number &#123;</span><br><span class="line">  border-top: none;</span><br><span class="line">  color: #222;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-pagination .page-number:hover &#123;</span><br><span class="line">  border-bottom: 1px solid #222;</span><br><span class="line">&#125;</span><br><span class="line">.algolia-pagination .disabled-item &#123;</span><br><span class="line">  visibility: hidden;</span><br><span class="line">&#125;</span><br><span class="line">.site-search form &#123;</span><br><span class="line">	display: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><strong>本文作者</strong>：际富<br><strong>本文地址</strong>： <a href="http://zhy.one/html/hexo-algolia-landscape.html">http://zhy.one/html/hexo-algolia-landscape.html</a><br><strong>版权声明</strong>：本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow noopener noreferrer" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议。转载请注明出处！</p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhy.one/html/git-ftp.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhy"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="际富的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/html/git-ftp.html" itemprop="url">用git-ftp上传代码到虚拟空间</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-20T13:33:29+08:00">2017-11-20</time></span></div></header><div class="post-body" itemprop="articleBody"><p>一般情况下，我们购买的虚拟空间是不支持git上传代码的，支持ftp。如果每次更新了网站代码，要再全部重新上传一遍，非常浪费时间。<br>有个不错的工具git-ftp，可以用git的方式来上传代码到虚拟空间。<br></p><div class="post-button text-center"> <a class="btn" href="/html/git-ftp.html#more" rel="contents">阅读全文 &raquo;</a></div><p></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhy.one/html/hexo-github.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhy"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="际富的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/html/hexo-github.html" itemprop="url">在github上搭建hexo博客</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T11:08:03+08:00">2017-11-19</time></span></div></header><div class="post-body" itemprop="articleBody"><p>hexo有很多优点，除了免费，还有一点我比较看重的，就是安全，因为没有用数据库，不用担心sql注入。特别适合小型网站建设，以及个人博客搭建。以下是我在github上搭建hexo的一些笔记。供新人参考。</p><h4 id="注册github"><a href="#注册github" class="headerlink" title="注册github"></a>注册github</h4><p>1)注册github账号</p><p>github网址：<a href="https://github.com/" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/</a><br>输入你的用户名，电子邮箱，密码，然后点击sign up for GitHub注册<br></p><div class="post-button text-center"> <a class="btn" href="/html/hexo-github.html#more" rel="contents">阅读全文 &raquo;</a></div><p></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhy.one/html/hexo-next-gitment.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhy"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="际富的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/html/hexo-next-gitment.html" itemprop="url">用gitment为hexo增加评论功能</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T13:40:32+08:00">2017-11-17</time></span></div></header><div class="post-body" itemprop="articleBody"><p>最近发现一个不错的评论插件gitment，它是基于github开发的，而且hexo的最新的next主题默认已经安装了gitment，只要做一个简单的设置，就能开启gitment功能。<br></p><div class="post-button text-center"> <a class="btn" href="/html/hexo-next-gitment.html#more" rel="contents">阅读全文 &raquo;</a></div><p></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhy.one/html/hexo-baidu-url-submit-seo.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhy"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="际富的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/html/hexo-baidu-url-submit-seo.html" itemprop="url">seo优化：hexo-baidu-url-submit主动提交链接</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T10:56:06+08:00">2017-11-17</time></span></div></header><div class="post-body" itemprop="articleBody"><p>如何让hexo站点快速被百度收录，一直是seo优化者的追求。百度目前提供了主动推送功能，官方说明主动提交的好处：</p><ul><li>及时发现：可以缩短百度爬虫发现您站点新链接的时间，使新发布的页面可以在第一时间被百度收录</li><li>保护原创：对于网站的最新原创内容，使用主动推送功能可以快速通知到百度，使内容可以在转发之前被百度发现</li></ul><div class="post-button text-center"> <a class="btn" href="/html/hexo-baidu-url-submit-seo.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhy.one/html/hexo-addlink.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhy"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="际富的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/html/hexo-addlink.html" itemprop="url">用hexo-addlink在文章尾部插入当前文章链接</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-16T23:18:00+08:00">2017-11-16</time></span></div></header><div class="post-body" itemprop="articleBody"><p>用hexo-addlink在文章尾部插入当前文章链接，有利于seo</p><h4 id="安装hexo-addlink"><a href="#安装hexo-addlink" class="headerlink" title="安装hexo-addlink"></a>安装hexo-addlink</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-addlink --save</span><br></pre></td></tr></table></figure><div class="post-button text-center"> <a class="btn" href="/html/hexo-addlink.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhy.one/html/hexo-generator-sitemap-baidusitemap.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhy"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="际富的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/html/hexo-generator-sitemap-baidusitemap.html" itemprop="url">给hexo添加sitemap和baidusitemap站点地图功能</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-16T23:01:32+08:00">2017-11-16</time></span></div></header><div class="post-body" itemprop="articleBody"><p>给hexo添加sitemap和baidusitemap站点地图功能，主要是为了对搜索引擎友好。</p><h4 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h4><p>安装google sitemap<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><p></p><p>安装百度sitemap<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><p></p><div class="post-button text-center"> <a class="btn" href="/html/hexo-generator-sitemap-baidusitemap.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhy.one/html/hexo-coding-github-both-repo.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhy"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="际富的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/html/hexo-coding-github-both-repo.html" itemprop="url">将hexo同时部署到coding和github上</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-15T16:17:00+08:00">2017-11-15</time></span></div></header><div class="post-body" itemprop="articleBody"><p>将hexo博客同时部署到coding.net和github.com上，并且设置dns，让国内用户访问coding站点，让国外用户访问github站点。<br>coding.net对国内用户访问速度快，特别是百度蜘蛛比较友好，而github屏蔽了百度蜘蛛的抓取，对google蜘蛛抓取比较友好，对国外用户访问速度快。<br></p><div class="post-button text-center"> <a class="btn" href="/html/hexo-coding-github-both-repo.html#more" rel="contents">阅读全文 &raquo;</a></div><p></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhy.one/html/gulpuglifyerror-minify-javascript.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhy"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="际富的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/html/gulpuglifyerror-minify-javascript.html" itemprop="url">解决GulpUglifyError:unable to minify JavaScript问题</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-15T12:51:34+08:00">2017-11-15</time></span></div></header><div class="post-body" itemprop="articleBody"><p>在进行gulp压缩时，出现以下错误<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">events.js:160</span><br><span class="line">      throw er; // Unhandled &apos;error&apos; event</span><br><span class="line">      ^</span><br><span class="line">GulpUglifyError: unable to minify JavaScript</span><br><span class="line">    at createError (E:\zhyone\blog\node_modules\_gulp-uglify@3.0.0@gulp-uglify\lib\create-error.js:6:14)</span><br><span class="line">    at apply (E:\zhyone\blog\node_modules\_lodash@4.17.4@lodash\_apply.js:16:25)</span><br><span class="line">    at wrapper (E:\zhyone\blog\node_modules\_lodash@4.17.4@lodash\_createCurry.js:41:12)</span><br><span class="line">    at E:\zhyone\blog\node_modules\_gulp-uglify@3.0.0@gulp-uglify\lib\minify.js:54:15</span><br><span class="line">    at DestroyableTransform._transform (E:\zhyone\blog\node_modules\_gulp-uglify@3.0.0@gulp-uglify\composer.js:10:23)</span><br><span class="line">    at DestroyableTransform.Transform._read (E:\zhyone\blog\node_modules\_readable-stream@2.3.3@readable-stream\lib\_stream_transform.js:182:10)</span><br><span class="line">    at DestroyableTransform.Transform._write (E:\zhyone\blog\node_modules\_readable-stream@2.3.3@readable-stream\lib\_stream_transform.js:170:83)</span><br><span class="line">    at doWrite (E:\zhyone\blog\node_modules\_readable-stream@2.3.3@readable-stream\lib\_stream_writable.js:406:64)</span><br><span class="line">    at writeOrBuffer (E:\zhyone\blog\node_modules\_readable-stream@2.3.3@readable-stream\lib\_stream_writable.js:395:5)</span><br><span class="line">    at DestroyableTransform.Writable.write (E:\zhyone\blog\node_modules\_readable-stream@2.3.3@readable-stream\lib\_stream_writable.js:322:11)</span><br><span class="line">    at write (E:\zhyone\blog\node_modules\_readable-stream@1.0.34@readable-stream\lib\_stream_readable.js:623:24)</span><br><span class="line">    at flow (E:\zhyone\blog\node_modules\_readable-stream@1.0.34@readable-stream\lib\_stream_readable.js:632:7)</span><br><span class="line">    at DestroyableTransform.pipeOnReadable (E:\zhyone\blog\node_modules\_readable-stream@1.0.34@readable-stream\lib\_stream_readable.js:664:5)</span><br><span class="line">    at emitNone (events.js:86:13)</span><br><span class="line">    at DestroyableTransform.emit (events.js:185:7)</span><br><span class="line">    at emitReadable_ (E:\zhyone\blog\node_modules\_readable-stream@1.0.34@readable-stream\lib\_stream_readable.js:448:10)</span><br></pre></td></tr></table></figure><p></p><p>网上查找，提供的解决方法是，用gulp-util插件处理。<br></p><div class="post-button text-center"> <a class="btn" href="/html/gulpuglifyerror-minify-javascript.html#more" rel="contents">阅读全文 &raquo;</a></div><p></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhy.one/html/hexo-algolia.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhy"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="际富的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/html/hexo-algolia.html" itemprop="url">用hexo-algolia插件为hexo增加搜索功能</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-14T15:49:01+08:00">2017-11-14</time></span></div></header><div class="post-body" itemprop="articleBody"><p>hexo提供了一个搜索功能插件hexo-algolia，可以用它为博客增加搜索功能。</p><h4 id="安装hexo-algolia"><a href="#安装hexo-algolia" class="headerlink" title="安装hexo-algolia"></a>安装hexo-algolia</h4><p>hexo-algolia和hexo-algoliasearch两个插件在一起会产生冲突，所以，如果之前安装过hexo-algoliasearch，先把它卸载<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm uninstall hexo-algoliasearch --save</span><br></pre></td></tr></table></figure><p></p><p>然后在安装hexo-algolia<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-algolia --save</span><br></pre></td></tr></table></figure><p></p><div class="post-button text-center"> <a class="btn" href="/html/hexo-algolia.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article></section><nav class="pagination"> <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a></nav></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview-wrap sidebar-panel sidebar-panel-active"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">zhy</p><p class="site-description motion-element" itemprop="description">际富的hexo博客，记录学过的点滴知识。</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-tags"> <span class="site-state-item-count">13</span> <span class="site-state-item-name">标签</span></div></nav><div class="links-of-author motion-element"></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2017</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">zhy</span></div><div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io" rel="external nofollow noopener noreferrer">Hexo</a> | Hosted by <a href="https://pages.coding.me" style="font-weight:700" target="_blank" rel="external nofollow noopener noreferrer">Coding Pages</a></div> <span class="post-meta-divider">|</span><div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow noopener noreferrer">NexT.Mist</a></div><div class="busuanzi-count"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script> <span class="site-pv">本站总访问量<span class="busuanzi-value" id="busuanzi_value_site_pv"></span> 次</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script><link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css"><script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script></body></html>